var request = require('request');
var InsightService = (function () {
    function InsightService(baseUrl) {
        this.baseUrl = baseUrl;
    }
    InsightService.prototype.getAddressInfo = function (address, callback) {
        request.get(this.baseUrl + 'addr/' + address, callback);
    };
    InsightService.prototype.getTransactions = function (addresses, callback) {
        var addrs = addresses.reduce(function (prev, cur) { return cur + ',' + prev; });
        var opts = {
            baseUrl: this.baseUrl,
            body: JSON.stringify({ addrs: addrs }),
            headers: {
                "Content-Type": "application/json"
            }
        };
        var req = request.post('addrs/', opts, callback);
    };
    InsightService.prototype.getUtxos = function (addresses, callback) {
        var addrs = addresses.reduce(function (prev, cur) { return cur + ',' + prev; });
        var opts = {
            baseUrl: this.baseUrl,
            body: JSON.stringify({ addrs: addrs }),
            headers: {
                "Content-Type": "application/json"
            }
        };
        var req = request.post('addrs/utxo', opts, function (err, resp, body) {
            if (err) {
                return callback(err, null);
            }
            return callback(null, JSON.parse(body));
        });
    };
    return InsightService;
})();
exports.InsightService = InsightService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW5zaWdodFNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvU2VydmljZXMvSW5zaWdodFNlcnZpY2UudHMiXSwibmFtZXMiOlsiSW5zaWdodFNlcnZpY2UiLCJJbnNpZ2h0U2VydmljZS5jb25zdHJ1Y3RvciIsIkluc2lnaHRTZXJ2aWNlLmdldEFkZHJlc3NJbmZvIiwiSW5zaWdodFNlcnZpY2UuZ2V0VHJhbnNhY3Rpb25zIiwiSW5zaWdodFNlcnZpY2UuZ2V0VXR4b3MiXSwibWFwcGluZ3MiOiJBQUFBLElBQU8sT0FBTyxXQUFXLFNBQVMsQ0FBQyxDQUFDO0FBR3BDO0lBQ0VBLHdCQUNTQSxPQUFjQTtRQUFkQyxZQUFPQSxHQUFQQSxPQUFPQSxDQUFPQTtJQUNyQkEsQ0FBQ0E7SUFFSEQsdUNBQWNBLEdBQWRBLFVBQWVBLE9BQWNBLEVBQUVBLFFBQWdDQTtRQUM3REUsT0FBT0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsT0FBT0EsR0FBR0EsT0FBT0EsR0FBSUEsT0FBT0EsRUFBRUEsUUFBUUEsQ0FBQ0EsQ0FBQUE7SUFDMURBLENBQUNBO0lBRURGLHdDQUFlQSxHQUFmQSxVQUFnQkEsU0FBa0JBLEVBQUVBLFFBQWdDQTtRQUNsRUcsSUFBSUEsS0FBS0EsR0FBR0EsU0FBU0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsVUFBQ0EsSUFBSUEsRUFBRUEsR0FBR0EsSUFBTUEsTUFBTUEsQ0FBQ0EsR0FBR0EsR0FBR0EsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQUEsQ0FBQUEsQ0FBQ0EsQ0FBRUEsQ0FBQUE7UUFFdkVBLElBQUlBLElBQUlBLEdBQXVCQTtZQUM3QkEsT0FBT0EsRUFBQ0EsSUFBSUEsQ0FBQ0EsT0FBT0E7WUFDcEJBLElBQUlBLEVBQUVBLElBQUlBLENBQUNBLFNBQVNBLENBQUNBLEVBQUNBLEtBQUtBLEVBQUNBLEtBQUtBLEVBQUNBLENBQUNBO1lBQ25DQSxPQUFPQSxFQUFFQTtnQkFDUEEsY0FBY0EsRUFBQ0Esa0JBQWtCQTthQUNsQ0E7U0FDRkEsQ0FBQUE7UUFDREEsSUFBSUEsR0FBR0EsR0FBR0EsT0FBT0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsUUFBUUEsRUFBRUEsSUFBSUEsRUFBRUEsUUFBUUEsQ0FBQ0EsQ0FBQUE7SUFDbERBLENBQUNBO0lBRURILGlDQUFRQSxHQUFSQSxVQUFTQSxTQUFrQkEsRUFBRUEsUUFBdUNBO1FBQ2xFSSxJQUFJQSxLQUFLQSxHQUFHQSxTQUFTQSxDQUFDQSxNQUFNQSxDQUFDQSxVQUFDQSxJQUFJQSxFQUFFQSxHQUFHQSxJQUFNQSxNQUFNQSxDQUFDQSxHQUFHQSxHQUFHQSxHQUFHQSxHQUFHQSxJQUFJQSxDQUFBQSxDQUFBQSxDQUFDQSxDQUFFQSxDQUFBQTtRQUV2RUEsSUFBSUEsSUFBSUEsR0FBdUJBO1lBQzdCQSxPQUFPQSxFQUFDQSxJQUFJQSxDQUFDQSxPQUFPQTtZQUNwQkEsSUFBSUEsRUFBRUEsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsRUFBQ0EsS0FBS0EsRUFBQ0EsS0FBS0EsRUFBQ0EsQ0FBQ0E7WUFDbkNBLE9BQU9BLEVBQUVBO2dCQUNQQSxjQUFjQSxFQUFDQSxrQkFBa0JBO2FBQ2xDQTtTQUNGQSxDQUFBQTtRQUNEQSxJQUFJQSxHQUFHQSxHQUFHQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxZQUFZQSxFQUFFQSxJQUFJQSxFQUFFQSxVQUFDQSxHQUFHQSxFQUFDQSxJQUFJQSxFQUFDQSxJQUFJQTtZQUN4REEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQUEsQ0FBQ0E7Z0JBQ1BBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLEdBQUdBLEVBQUVBLElBQUlBLENBQUNBLENBQUNBO1lBQzdCQSxDQUFDQTtZQUNEQSxNQUFNQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxFQUFFQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUN6Q0EsQ0FBQ0EsQ0FBQ0EsQ0FBQUE7SUFDSkEsQ0FBQ0E7SUFDSEoscUJBQUNBO0FBQURBLENBQUNBLEFBdkNELElBdUNDO0FBRU8sc0JBQWMsa0JBRnJCO0FBRXNCIn0=